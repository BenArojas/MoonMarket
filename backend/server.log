2025-05-28 17:42:01,315 - INFO - Server starting up...
2025-05-28 17:42:20,567 - INFO - Server starting up...
2025-05-28 17:42:36,581 - INFO - Server starting up...
2025-05-28 17:42:38,863 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 401 Unauthorized"
2025-05-28 17:42:38,863 - ERROR - An unexpected error occurred in fetch_holdings: Client error '401 Unauthorized' for url 'https://localhost:5000/v1/api/portfolio/accounts'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401
2025-05-28 17:42:38,863 - INFO - IBKR WebSocket thread started.
2025-05-28 17:42:38,863 - INFO - server listening on 127.0.0.1:8765
2025-05-28 17:42:38,863 - INFO - server listening on [::1]:8765
2025-05-28 17:42:38,863 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 17:42:41,318 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 401 Unauthorized"
2025-05-28 17:42:41,320 - ERROR - Failed to get session token: 401
2025-05-28 17:42:41,320 - WARNING - IBKR WebSocket disconnected. Reconnecting in 5 seconds...
2025-05-28 17:42:45,482 - INFO - Server shutting down...
2025-05-28 17:42:45,482 - INFO - server closing
2025-05-28 17:42:45,482 - INFO - server closed
2025-05-28 17:42:45,482 - INFO - All background tasks cancelled.
2025-05-28 17:45:07,731 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 401 Unauthorized"
2025-05-28 17:45:07,731 - INFO - Authentication check: 401 - 
2025-05-28 17:45:07,731 - ERROR - Authentication required. Please log in to IBKR Client Portal.
2025-05-28 17:45:07,731 - CRITICAL - Failed to start Uvicorn server: asyncio.run() cannot be called from a running event loop
2025-05-28 17:47:14,706 - INFO - Server starting up...
2025-05-28 17:47:15,400 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 401 Unauthorized"
2025-05-28 17:47:15,401 - INFO - Authentication check: 401 - 
2025-05-28 17:47:15,401 - ERROR - Authentication required. Please log in to IBKR Client Portal.
2025-05-28 17:48:38,709 - INFO - Server starting up...
2025-05-28 17:48:39,428 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 17:48:39,428 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":556234,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748443715447,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 17:48:39,897 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 17:48:39,901 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":555817,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748443720059,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 17:48:40,536 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 17:48:40,536 - INFO - Using Account ID: U14885950
2025-05-28 17:48:42,013 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 17:48:42,013 - INFO - Successfully processed and stored holdings for: ['COIN', 'CIFR', 'IBIT', 'CLSK', 'CAMT', 'BTBT', 'IREN', 'MARA', 'WULF', 'CORZ', 'RIOT', 'TSLL']
2025-05-28 17:48:43,478 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 17:48:43,478 - ERROR - Unexpected error in fetch_account_summary: 'str' object has no attribute 'get'
2025-05-28 17:48:43,478 - INFO - IBKR WebSocket thread started.
2025-05-28 17:48:43,496 - INFO - server listening on [::1]:8765
2025-05-28 17:48:43,496 - INFO - server listening on 127.0.0.1:8765
2025-05-28 17:48:43,497 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 17:48:45,957 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 17:48:45,957 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 17:48:45,957 - ERROR - Error in IBKR WebSocket thread: module 'websocket' has no attribute 'WebSocketApp'
2025-05-28 17:48:45,957 - WARNING - IBKR WebSocket disconnected. Reconnecting in 5 seconds...
2025-05-28 17:48:53,413 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 17:48:53,415 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 17:48:53,415 - ERROR - Error in IBKR WebSocket thread: module 'websocket' has no attribute 'WebSocketApp'
2025-05-28 17:48:53,415 - WARNING - IBKR WebSocket disconnected. Reconnecting in 10 seconds...
2025-05-28 17:48:58,092 - INFO - Server shutting down...
2025-05-28 17:48:58,092 - INFO - server closing
2025-05-28 17:48:58,092 - INFO - server closed
2025-05-28 17:48:58,092 - INFO - All background tasks cancelled.
2025-05-28 17:52:34,042 - INFO - Server starting up...
2025-05-28 17:52:34,768 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 17:52:34,773 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":320890,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748443925398,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 17:52:35,177 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 17:52:35,181 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":320483,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748443955411,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 17:52:35,666 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 17:52:35,666 - INFO - Using Account ID: U14885950
2025-05-28 17:52:37,137 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 17:52:37,137 - INFO - Successfully processed and stored holdings for: ['BTBT', 'WULF', 'CAMT', 'CORZ', 'CLSK', 'IBIT', 'COIN', 'RIOT', 'CIFR', 'MARA', 'TSLL', 'IREN']
2025-05-28 17:52:38,624 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 17:52:38,624 - ERROR - Unexpected error in fetch_account_summary: 'str' object has no attribute 'get'
2025-05-28 17:52:38,624 - INFO - IBKR WebSocket thread started.
2025-05-28 17:52:38,624 - INFO - server listening on 127.0.0.1:8765
2025-05-28 17:52:38,624 - INFO - server listening on [::1]:8765
2025-05-28 17:52:38,624 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 17:52:41,106 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 17:52:41,106 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 17:52:41,108 - ERROR - Error in IBKR WebSocket thread: 'ibkr_ws_url'
2025-05-28 17:52:41,108 - WARNING - IBKR WebSocket disconnected. Reconnecting in 5 seconds...
2025-05-28 17:52:48,662 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 17:52:48,662 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 17:52:48,662 - ERROR - Error in IBKR WebSocket thread: 'ibkr_ws_url'
2025-05-28 17:52:48,662 - WARNING - IBKR WebSocket disconnected. Reconnecting in 10 seconds...
2025-05-28 17:52:52,364 - INFO - Server shutting down...
2025-05-28 17:52:52,364 - INFO - server closing
2025-05-28 17:52:52,364 - INFO - server closed
2025-05-28 17:52:52,364 - INFO - All background tasks cancelled.
2025-05-28 17:59:51,073 - INFO - Server starting up...
2025-05-28 17:59:51,821 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 17:59:51,821 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":493279,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748444375397,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 17:59:52,319 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 17:59:52,326 - ERROR - An unexpected error occurred in fetch_holdings: object list can't be used in 'await' expression
2025-05-28 17:59:52,326 - INFO - IBKR WebSocket thread started.
2025-05-28 17:59:52,326 - INFO - server listening on 127.0.0.1:8765
2025-05-28 17:59:52,326 - INFO - server listening on [::1]:8765
2025-05-28 17:59:52,326 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 17:59:54,801 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 17:59:54,801 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 17:59:56,887 - ERROR - IBKR WebSocket error: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000)
2025-05-28 17:59:56,887 - ERROR - [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000) - goodbye
2025-05-28 17:59:56,888 - INFO - IBKR WebSocket closed: None - None
2025-05-28 17:59:56,888 - WARNING - IBKR WebSocket disconnected. Reconnecting in 5 seconds...
2025-05-28 18:00:04,393 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 18:00:04,393 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 18:00:06,454 - ERROR - IBKR WebSocket error: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000)
2025-05-28 18:00:06,454 - ERROR - [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000) - goodbye
2025-05-28 18:00:06,456 - INFO - IBKR WebSocket closed: None - None
2025-05-28 18:00:06,456 - WARNING - IBKR WebSocket disconnected. Reconnecting in 10 seconds...
2025-05-28 18:00:11,458 - INFO - Server shutting down...
2025-05-28 18:00:11,460 - INFO - server closing
2025-05-28 18:00:11,461 - INFO - server closed
2025-05-28 18:00:11,462 - INFO - All background tasks cancelled.
2025-05-28 18:01:45,136 - INFO - Server starting up...
2025-05-28 18:01:45,887 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 18:01:45,887 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":379138,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748444495515,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 18:01:46,392 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 18:01:46,396 - INFO - Using Account ID: U14885950
2025-05-28 18:01:47,259 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 18:01:47,259 - INFO - Successfully processed and stored holdings for: ['CAMT', 'CORZ', 'IREN', 'COIN', 'MARA', 'IBIT', 'CIFR', 'BTBT', 'CLSK', 'WULF', 'RIOT', 'TSLL']
2025-05-28 18:01:48,129 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 18:01:48,129 - ERROR - Unexpected error in fetch_account_summary: object dict can't be used in 'await' expression
2025-05-28 18:01:48,129 - INFO - IBKR WebSocket thread started.
2025-05-28 18:01:48,142 - INFO - server listening on 127.0.0.1:8765
2025-05-28 18:01:48,143 - INFO - server listening on [::1]:8765
2025-05-28 18:01:48,144 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 18:01:50,615 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 18:01:50,615 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 18:01:52,678 - ERROR - IBKR WebSocket error: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000)
2025-05-28 18:01:52,678 - ERROR - [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000) - goodbye
2025-05-28 18:01:52,678 - INFO - IBKR WebSocket closed: None - None
2025-05-28 18:01:52,678 - WARNING - IBKR WebSocket disconnected. Reconnecting in 5 seconds...
2025-05-28 18:01:54,512 - INFO - Server shutting down...
2025-05-28 18:01:54,512 - INFO - server closing
2025-05-28 18:01:54,512 - INFO - server closed
2025-05-28 18:01:54,512 - INFO - All background tasks cancelled.
2025-05-28 18:02:10,084 - INFO - Server starting up...
2025-05-28 18:02:10,993 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 18:02:10,993 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":354045,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748444525407,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 18:02:11,385 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 18:02:11,402 - INFO - Using Account ID: U14885950
2025-05-28 18:02:12,331 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 18:02:12,343 - INFO - Successfully processed and stored holdings for: ['MARA', 'CIFR', 'IBIT', 'CORZ', 'TSLL', 'WULF', 'RIOT', 'CAMT', 'IREN', 'CLSK', 'BTBT', 'COIN']
2025-05-28 18:02:13,816 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 18:02:13,816 - ERROR - Unexpected error in fetch_account_summary: 'str' object has no attribute 'get'
2025-05-28 18:02:13,816 - INFO - IBKR WebSocket thread started.
2025-05-28 18:02:13,816 - INFO - server listening on 127.0.0.1:8765
2025-05-28 18:02:13,816 - INFO - server listening on [::1]:8765
2025-05-28 18:02:13,816 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 18:02:16,277 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 18:02:16,277 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 18:02:17,947 - INFO - Server shutting down...
2025-05-28 18:02:17,947 - INFO - server closing
2025-05-28 18:02:17,947 - INFO - server closed
2025-05-28 18:02:17,947 - INFO - All background tasks cancelled.
2025-05-28 18:03:35,494 - INFO - Server starting up...
2025-05-28 18:03:36,229 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 18:03:36,229 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":268812,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748444615443,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 18:03:36,621 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 18:03:36,637 - INFO - Using Account ID: U14885950
2025-05-28 18:03:37,614 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 18:03:37,614 - INFO - Successfully processed and stored holdings for: ['IBIT', 'RIOT', 'CIFR', 'WULF', 'BTBT', 'CORZ', 'CAMT', 'COIN', 'CLSK', 'TSLL', 'IREN', 'MARA']
2025-05-28 18:03:38,689 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 18:03:38,689 - INFO - summary data is + {'accountcode': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': 'U14885950', 'severity': 0}, 'accountready': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': 'true', 'severity': 0}, 'accounttype': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': 'INDIVIDUAL', 'severity': 0}, 'accruedcash': {'amount': 2.3399999141693115, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'accruedcash-s': {'amount': 2.3399999141693115, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'accrueddividend': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'accrueddividend-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'availablefunds': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'availablefunds-s': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'billable': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'billable-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'buyingpower': {'amount': 41755.94921875, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'columnprio-s': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': '1', 'severity': 0}, 'cushion': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': '1', 'severity': 0}, 'daytradesremaining': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': '3', 'severity': 0}, 'daytradesremainingt+1': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': '3', 'severity': 0}, 'daytradesremainingt+2': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': '3', 'severity': 0}, 'daytradesremainingt+3': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': '3', 'severity': 0}, 'daytradesremainingt+4': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': '3', 'severity': 0}, 'daytradingstatus-s': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': '::false:19155.48::false', 'severity': 0}, 'depositoncredithold': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444618000, 'value': 'null', 'severity': 0}, 'equitywithloanvalue': {'amount': 19155.48046875, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'equitywithloanvalue-s': {'amount': 19155.48046875, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'excessliquidity': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'excessliquidity-s': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'fullavailablefunds': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'fullavailablefunds-s': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'fullexcessliquidity': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'fullexcessliquidity-s': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'fullinitmarginreq': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'fullinitmarginreq-s': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444618000, 'value': None, 'severity': 0}, 'fullmaintmarginreq': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'fullmaintmarginreq-s': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'grosspositionvalue': {'amount': 19082.330078125, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'grosspositionvalue-s': {'amount': 19082.330078125, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'guarantee': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'guarantee-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'highestseverity': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444619000, 'value': 'null', 'severity': 0}, 'incentivecoupons': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'incentivecoupons-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'indianstockhaircut': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'indianstockhaircut-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'initmarginreq': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'initmarginreq-s': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'leverage-s': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444619000, 'value': '1.0', 'severity': 0}, 'lookaheadavailablefunds': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'lookaheadavailablefunds-s': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'lookaheadexcessliquidity': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'lookaheadexcessliquidity-s': {'amount': 10438.990234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'lookaheadinitmarginreq': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'lookaheadinitmarginreq-s': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'lookaheadmaintmarginreq': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'lookaheadmaintmarginreq-s': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'lookaheadnextchange': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444619000, 'value': '1748462400', 'severity': 0}, 'maintmarginreq': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'maintmarginreq-s': {'amount': 8716.490234375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'netliquidation': {'amount': 19157.8203125, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'netliquidation-s': {'amount': 19157.8203125, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'netliquidationuncertainty': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'nlvandmargininreview': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444619000, 'value': 'false', 'severity': 0}, 'pasharesvalue': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'pasharesvalue-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'physicalcertificatevalue': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'physicalcertificatevalue-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'postexpirationexcess': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'postexpirationexcess-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'postexpirationmargin': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'postexpirationmargin-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'previousdayequitywithloanvalue': {'amount': 20036.33984375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'previousdayequitywithloanvalue-s': {'amount': 20036.33984375, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'regtequity': {'amount': 19157.8203125, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'regtequity-s': {'amount': 19157.8203125, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'regtmargin': {'amount': 9541.169921875, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'regtmargin-s': {'amount': 9541.169921875, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'segmenttitle-s': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444619000, 'value': 'US Securities', 'severity': 0}, 'sma': {'amount': 12455.2001953125, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'sma-s': {'amount': 12455.2001953125, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'totalcashvalue': {'amount': 73.1500015258789, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'totalcashvalue-s': {'amount': 73.1500015258789, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'totaldebitcardpendingcharges': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'totaldebitcardpendingcharges-s': {'amount': 0.0, 'currency': 'USD', 'isNull': False, 'timestamp': 1748444619000, 'value': None, 'severity': 0}, 'tradingtype-s': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444619000, 'value': 'STKMRGN', 'severity': 0}, 'whatifpmenabled': {'amount': 0.0, 'currency': None, 'isNull': False, 'timestamp': 1748444619000, 'value': 'true', 'severity': 0}}
2025-05-28 18:03:38,689 - ERROR - Unexpected error in fetch_account_summary: 'str' object has no attribute 'get'
2025-05-28 18:03:38,704 - INFO - IBKR WebSocket thread started.
2025-05-28 18:03:38,709 - INFO - server listening on [::1]:8765
2025-05-28 18:03:38,710 - INFO - server listening on 127.0.0.1:8765
2025-05-28 18:03:38,710 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 18:03:41,186 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 18:03:41,187 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 18:03:41,822 - INFO - Server shutting down...
2025-05-28 18:03:41,823 - INFO - server closing
2025-05-28 18:03:41,824 - INFO - server closed
2025-05-28 18:03:41,825 - INFO - All background tasks cancelled.
2025-05-28 18:04:52,342 - INFO - Server starting up...
2025-05-28 18:04:53,206 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 18:04:53,223 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":191835,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748444675407,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 18:04:53,633 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 18:04:53,633 - INFO - Using Account ID: U14885950
2025-05-28 18:04:54,543 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 18:04:54,545 - INFO - Successfully processed and stored holdings for: ['BTBT', 'COIN', 'CAMT', 'CORZ', 'CLSK', 'WULF', 'TSLL', 'MARA', 'IREN', 'CIFR', 'RIOT', 'IBIT']
2025-05-28 18:05:13,447 - INFO - Server starting up...
2025-05-28 18:05:14,133 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 18:05:14,149 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748443672301,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":170887,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748444705464,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 18:05:14,563 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 18:05:14,563 - INFO - Using Account ID: U14885950
2025-05-28 18:05:15,477 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 18:05:15,477 - INFO - Successfully processed and stored holdings for: ['CLSK', 'IBIT', 'CAMT', 'CIFR', 'WULF', 'BTBT', 'MARA', 'IREN', 'COIN', 'TSLL', 'CORZ', 'RIOT']
2025-05-28 18:05:16,996 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 18:05:16,996 - INFO - Account summary updated: {'account_id': 'U14885950', 'total_cash': 73.1500015258789, 'net_liquidation': 19160.279296875, 'buying_power': 41763.5390625, 'currency': 'USD'}
2025-05-28 18:05:16,996 - INFO - IBKR WebSocket thread started.
2025-05-28 18:05:16,996 - INFO - server listening on [::1]:8765
2025-05-28 18:05:16,996 - INFO - server listening on 127.0.0.1:8765
2025-05-28 18:05:16,996 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 18:05:19,481 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 18:05:19,481 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 18:05:21,563 - ERROR - IBKR WebSocket error: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000)
2025-05-28 18:05:21,563 - ERROR - [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000) - goodbye
2025-05-28 18:05:21,563 - INFO - IBKR WebSocket closed: None - None
2025-05-28 18:05:21,563 - WARNING - IBKR WebSocket disconnected. Reconnecting in 5 seconds...
2025-05-28 18:05:29,060 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 18:05:29,062 - INFO - Got session token for WebSocket: 498869a5...
2025-05-28 18:05:31,152 - ERROR - IBKR WebSocket error: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000)
2025-05-28 18:05:31,152 - ERROR - [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate (_ssl.c:1000) - goodbye
2025-05-28 18:05:31,152 - INFO - IBKR WebSocket closed: None - None
2025-05-28 18:05:31,153 - WARNING - IBKR WebSocket disconnected. Reconnecting in 10 seconds...
2025-05-28 18:05:33,401 - INFO - Server shutting down...
2025-05-28 18:05:33,401 - INFO - server closing
2025-05-28 18:05:33,401 - INFO - server closed
2025-05-28 18:05:33,401 - INFO - All background tasks cancelled.
2025-05-28 19:55:53,079 - INFO - Server starting up...
2025-05-28 19:55:55,363 - ERROR - Authentication check failed: All connection attempts failed
2025-05-28 19:55:55,363 - ERROR - Authentication required. Please log in to IBKR Client Portal.
2025-05-28 19:56:06,197 - INFO - Server starting up...
2025-05-28 19:56:08,331 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 401 Unauthorized"
2025-05-28 19:56:08,331 - INFO - Authentication check: 401 - 
2025-05-28 19:56:08,331 - ERROR - Authentication required. Please log in to IBKR Client Portal.
2025-05-28 19:58:28,992 - INFO - Server starting up...
2025-05-28 19:58:29,808 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 19:58:29,815 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748451395154,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":487476,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748451497944,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 19:58:30,442 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 19:58:30,447 - INFO - Using Account ID: U14885950
2025-05-28 19:58:31,925 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 19:58:31,925 - INFO - Successfully processed and stored holdings for: ['CLSK', 'IREN', 'IBIT', 'RIOT', 'CIFR', 'WULF', 'MARA', 'TSLL', 'CAMT', 'CORZ', 'BTBT', 'COIN']
2025-05-28 19:58:33,900 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 19:58:33,900 - INFO - Account summary updated: {'account_id': 'U14885950', 'total_cash': 73.12999725341797, 'net_liquidation': 19250.740234375, 'buying_power': 41865.5703125, 'currency': 'USD'}
2025-05-28 19:58:33,900 - INFO - IBKR WebSocket thread started.
2025-05-28 19:58:33,904 - INFO - server listening on 127.0.0.1:8765
2025-05-28 19:58:33,904 - INFO - server listening on [::1]:8765
2025-05-28 19:58:33,904 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 19:58:37,836 - INFO - Server shutting down...
2025-05-28 19:58:37,836 - INFO - server closing
2025-05-28 19:58:37,836 - INFO - server closed
2025-05-28 19:58:37,836 - INFO - All background tasks cancelled.
2025-05-28 19:59:06,985 - INFO - Server starting up...
2025-05-28 19:59:07,800 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 19:59:07,800 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748451395154,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":449453,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748451527134,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 19:59:08,208 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 19:59:08,208 - INFO - Using Account ID: U14885950
2025-05-28 19:59:09,132 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 19:59:09,135 - INFO - Successfully processed and stored holdings for: ['CIFR', 'CORZ', 'IBIT', 'IREN', 'MARA', 'RIOT', 'WULF', 'TSLL', 'CLSK', 'BTBT', 'COIN', 'CAMT']
2025-05-28 19:59:09,987 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 19:59:10,003 - INFO - Account summary updated: {'account_id': 'U14885950', 'total_cash': 73.12999725341797, 'net_liquidation': 19250.740234375, 'buying_power': 41865.5703125, 'currency': 'USD'}
2025-05-28 19:59:10,006 - INFO - IBKR WebSocket thread started.
2025-05-28 19:59:10,012 - INFO - server listening on 127.0.0.1:8765
2025-05-28 19:59:10,014 - INFO - server listening on [::1]:8765
2025-05-28 19:59:10,014 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 19:59:12,505 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 19:59:12,505 - INFO - Got session token for WebSocket: 5b4bf08e...
2025-05-28 19:59:14,828 - INFO - Websocket connected
2025-05-28 19:59:14,828 - ERROR - error from callback <function run_ibkr_websocket_sync.<locals>.<lambda> at 0x000001E0562F1800>: on_ibkr_open() takes 1 positional argument but 2 were given
2025-05-28 19:59:14,828 - ERROR - IBKR WebSocket error: on_ibkr_open() takes 1 positional argument but 2 were given
2025-05-28 19:59:42,202 - INFO - Server shutting down...
2025-05-28 19:59:42,204 - INFO - IBKR WebSocket closed: None - None
2025-05-28 19:59:42,204 - INFO - server closing
2025-05-28 19:59:42,204 - WARNING - IBKR WebSocket disconnected. Reconnecting in 5 seconds...
2025-05-28 19:59:42,204 - INFO - server closed
2025-05-28 19:59:42,208 - INFO - All background tasks cancelled.
2025-05-28 19:59:44,520 - INFO - Server starting up...
2025-05-28 19:59:45,263 - INFO - HTTP Request: GET https://localhost:5000/v1/api/sso/validate "HTTP/1.1 200 OK"
2025-05-28 19:59:45,263 - INFO - Authentication check: 200 - {"USER_ID":141444035,"USER_NAME":"njhvgu246","RESULT":true,"AUTH_TIME":1748451395154,"SF_ENABLED":true,"IS_FREE_TRIAL":false,"CREDENTIAL":"bearoj352","IP":"109.67.113.214","EXPIRES":412003,"QUALIFIED_FOR_MOBILE_AUTH":null,"LANDING_APP":"AM","IS_MASTER":false,"lastAccessed":1748451557070,"features":{"env":"PROD","wlms":true,"realtime":true,"bond":true,"optionChains":true,"calendar":true,"newMf":true},"region":"HK"}
2025-05-28 19:59:45,668 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/accounts "HTTP/1.1 200 OK"
2025-05-28 19:59:45,668 - INFO - Using Account ID: U14885950
2025-05-28 19:59:47,231 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/positions "HTTP/1.1 200 OK"
2025-05-28 19:59:47,231 - INFO - Successfully processed and stored holdings for: ['IBIT', 'CORZ', 'CIFR', 'WULF', 'CAMT', 'RIOT', 'TSLL', 'COIN', 'MARA', 'IREN', 'BTBT', 'CLSK']
2025-05-28 19:59:48,864 - INFO - HTTP Request: GET https://localhost:5000/v1/api/portfolio/U14885950/summary "HTTP/1.1 200 OK"
2025-05-28 19:59:48,868 - INFO - Account summary updated: {'account_id': 'U14885950', 'total_cash': 73.12000274658203, 'net_liquidation': 19250.73046875, 'buying_power': 41865.55859375, 'currency': 'USD'}
2025-05-28 19:59:48,871 - INFO - IBKR WebSocket thread started.
2025-05-28 19:59:48,878 - INFO - server listening on 127.0.0.1:8765
2025-05-28 19:59:48,880 - INFO - server listening on [::1]:8765
2025-05-28 19:59:48,881 - INFO - Client WebSocket server started on ws://localhost:8765
2025-05-28 19:59:51,496 - INFO - HTTP Request: POST https://localhost:5000/v1/api/tickle "HTTP/1.1 200 OK"
2025-05-28 19:59:51,497 - INFO - Got session token for WebSocket: 5b4bf08e...
2025-05-28 19:59:53,642 - INFO - Websocket connected
2025-05-28 19:59:53,644 - INFO - IBKR WebSocket connection opened
2025-05-28 19:59:53,646 - INFO - Subscribed to account summary: ssd+U14885950+{"keys":["AccruedCash-S","ExcessLiquidity-S","NetLiquidation-S","TotalCashValue-S","BuyingPower-S"],"fields":["currency","monetaryValue"]}
2025-05-28 19:59:53,646 - INFO - Subscribed to market data for BTBT (conid: 450017186)
2025-05-28 19:59:53,646 - INFO - Subscribed to market data for CAMT (conid: 9969543)
2025-05-28 19:59:53,648 - INFO - Subscribed to market data for CIFR (conid: 511470142)
2025-05-28 19:59:53,648 - INFO - Subscribed to market data for CLSK (conid: 395179962)
2025-05-28 19:59:53,648 - INFO - Subscribed to market data for COIN (conid: 481691285)
2025-05-28 19:59:53,650 - INFO - Subscribed to market data for CORZ (conid: 679998205)
2025-05-28 19:59:53,650 - INFO - Subscribed to market data for IBIT (conid: 677037673)
2025-05-28 19:59:53,656 - INFO - Subscribed to market data for IREN (conid: 526906130)
2025-05-28 19:59:53,659 - INFO - Subscribed to market data for MARA (conid: 474219659)
2025-05-28 19:59:53,661 - INFO - Subscribed to market data for RIOT (conid: 292830677)
2025-05-28 19:59:53,662 - INFO - Subscribed to market data for TSLL (conid: 578561429)
2025-05-28 19:59:53,663 - INFO - Subscribed to market data for WULF (conid: 532497563)
2025-05-28 20:00:49,220 - INFO - Server shutting down...
2025-05-28 20:00:49,222 - INFO - IBKR WebSocket closed: None - None
2025-05-28 20:00:49,222 - INFO - server closing
2025-05-28 20:00:49,222 - WARNING - IBKR WebSocket disconnected. Reconnecting in 5 seconds...
2025-05-28 20:00:49,222 - INFO - server closed
2025-05-28 20:00:49,222 - INFO - All background tasks cancelled.
